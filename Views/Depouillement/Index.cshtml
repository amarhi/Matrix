

@using Matrix.Models

@model IEnumerable<Matrix.Models.CSP_DOC>



@{
    ViewBag.Title = "Index";
}

    <p>
        @Html.ActionLink("Dépouiller les documents", "Panel")
    </p>

    <br />
    <br />
    <br />
    <br />
    <body>

        <div class="container body-content">

        </div>


        <div class="pagesarea">
            <ul class="pageslist">
                @for (int i = 0; ViewBag.pdf != null && i < ViewBag.pdf.Pages.Count; i++)
                {
                    TallComponents.PDF.Page page = ViewBag.pdf.Pages[i];
                    bool swap = page.Orientation == TallComponents.PDF.Orientation.Rotate90 || page.Orientation == TallComponents.PDF.Orientation.Rotate270;
                    int width = (int)((PanelModel.THUMBRES / 72f) * (swap ? page.Height : page.Width));
                    int height = (int)((PanelModel.THUMBRES / 72f) * (swap ? page.Width : page.Height));
                    <li class="ui-state-default">
                        <img class="pagethumbnail" src="/Depouillement/Thumbnail?d=@ViewBag.guid&i=@i" width="@width" height="@height" data-guid="@ViewBag.guid" data-index="@i" />
                    </li>
                }
            </ul>
        </div>



        @foreach (var item in Model)
        {
            <div class="dropzone panel-primary col-md-3" style="border: 4px solid blue; height: 320px" id=@Html.DisplayFor(modelItem => item.Documents.Code)>


                <div class="panel-heading" id=@Html.DisplayFor(modelItem => item.Documents.Code)>
                    <h3 class="panel-title" id=@Html.DisplayFor(modelItem => item.Documents.Code)>@Html.DisplayFor(modelItem => item.Documents.Libelle)</h3>
                </div>
                <div class="panel-body height: 120px" id=@Html.DisplayFor(modelItem => item.Documents.Code)>

                </div>

            </div>

        }




    </body>
}

